{{ form.csrf_token }}
<div class="form-group">
    <label>{{ form.keywords.description }}</label>
    {{ form.keywords(class="form-control", placeholder=_("方案标签，多个标签用‘,’分割"), id="plan-keywords") }}
    {% if form.errors.keywords %}
        <p class="text-danger">{{ form.errors.keywords[0] }}</p>
    {% endif %}
</div>
<div class="form-group">
    <label>{{ form.title.description }}</label>
    {{ form.title(class="form-control", placeholder=form.title.description) }}
    {% if form.errors.title %}
        <p class="text-danger">{{ form.errors.title[0] }}</p>
    {% endif %}
</div>

<div class="form-group">
    <label>{{ _("内容") }}</label>
    <script type="text/plain" id="editor" name="content">

    </script>
    {% if form.errors.content %}
        <p class="text-danger">{{ form.errors.content[0] }}</p>
    {% endif %}
</div>
<div class="clear"></div>

<div class="form-group">
    <label>{{_("封面图片") }}</label>
    <input type="file" name="image">
</div>
<div class="clear"></div>
<script type="text/javascript">
    $(document).ready(function () {
        var ue = UE.getEditor('editor', {
            toolbars: [
                ['fullscreen', 'fontsize', '|','blockquote', '|', 'removeformat', '|', 'link', 'unlink', '|', 'simpleupload', '|', 'undo', 'redo'],
                ['bold', 'italic', 'underline', 'forecolor', 'backcolor', '|', 'justifyleft', 'justifycenter', 'justifyright', '|', 'rowspacingtop', 'rowspacingbottom', 'lineheight', '|', 'insertorderedlist', 'insertunorderedlist', '|', 'imagenone', 'imageleft', 'imageright', 'imagecenter']
            ],
            initialFrameHeight: 360,
            autoClearEmptyNode: true,
        });


        ue.addListener("ready", function () {
            if ('{{form.content.data}}' != 'None') {
                ue.setContent('{{form.content.data|safe}}', false );
            }

        });
    });
</script>
